{% extends "base.html" %}

{% block title %}ç®¡ç†åå°{% endblock %}

{% block main_class %}admin-page{% endblock %}

{% block content %}
<div class="admin-container">
    <!-- ç™»å½•åŒºåŸŸ -->
    <div id="loginSection" class="admin-login">
        <div class="login-card">
            <h2>ğŸ” ç®¡ç†åå°</h2>
            <p>è¯·è¾“å…¥ç®¡ç†å¯†é’¥</p>
            <div class="login-form">
                <input type="password" id="adminKeyInput" placeholder="ç®¡ç†å¯†é’¥">
                <button type="button" id="loginBtn" class="btn btn-primary">ç™»å½•</button>
            </div>
            <div id="loginError" class="login-error"></div>
        </div>
    </div>

    <!-- ç®¡ç†é¢æ¿ -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-icon">ğŸ“</div>
                <div class="stat-info">
                    <div class="stat-value" id="statTotal">-</div>
                    <div class="stat-label">æ€»è®°å½•æ•°</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-info">
                    <div class="stat-value" id="statApproved">-</div>
                    <div class="stat-label">å·²é€šè¿‡</div>
                </div>
            </div>
            <div class="stat-card pending">
                <div class="stat-icon">â³</div>
                <div class="stat-info">
                    <div class="stat-value" id="statPending">-</div>
                    <div class="stat-label">å¾…å®¡æ ¸</div>
                </div>
            </div>
        </div>

        <!-- æ“ä½œæ  -->
        <div class="admin-toolbar">
            <div class="filter-tabs">
                <button class="tab-btn active" data-status="pending">å¾…å®¡æ ¸</button>
                <button class="tab-btn" data-status="approved">å·²é€šè¿‡</button>
                <button class="tab-btn" data-status="all">å…¨éƒ¨</button>
            </div>
            <div class="batch-actions">
                <button id="selectAllBtn" class="btn btn-secondary btn-sm">å…¨é€‰</button>
                <button id="batchApproveBtn" class="btn btn-success btn-sm" disabled>æ‰¹é‡é€šè¿‡</button>
                <button id="batchRejectBtn" class="btn btn-danger btn-sm" disabled>æ‰¹é‡æ‹’ç»</button>
            </div>
        </div>

        <!-- åˆ—è¡¨åŒºåŸŸ -->
        <div class="admin-list" id="adminList">
            <div class="loading">åŠ è½½ä¸­...</div>
        </div>

        <!-- åˆ†é¡µ -->
        <div class="admin-pagination" id="adminPagination"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<link rel="stylesheet" href="/static/css/pages/admin.css">
<script type="module" src="/static/js/pages/admin/main.js"></script>
{% endblock %}
